function divide(e){var t=e.text(),n=t.split(";"),a="";a+="<ul>";for(var s=0;s<n.length;s++)a=a+"<li>"+n[s]+"</li>";a+="</ul>",e[0].innerHTML=a}function app(){function e(e){return Math.floor(Math.random()*e)}function t(e){for(var t=e.length,n,a;0!==t;)a=Math.floor(Math.random()*t),t-=1,n=e[t],e[t]=e[a],e[a]=n;return e}function n(){function e(){style1=window.getComputedStyle($("#stage")[0]),heightWords=style1.getPropertyValue("height"),heightWordsLow=parseInt(heightWords,10),style2=window.getComputedStyle($("div.container.active")[0]),heightContainer=style2.getPropertyValue("height"),heightContainerLow=parseInt(heightContainer,10),$(".myButt").css("margin-top",Math.floor((heightContainerLow-heightWordsLow)/3)+"px"),console.log("window width is less than 568px")}function t(){style3=window.getComputedStyle($("#stage")[0]),heightWords=style3.getPropertyValue("height"),heightWordsHigh=parseInt(heightWords,10),style4=window.getComputedStyle($("div.container.active")[0]),heightContainer=style4.getPropertyValue("height"),heightContainerHigh=parseInt(heightContainer,10),$(".myButt").css("margin-top",Math.floor((heightContainerHigh-heightWordsHigh)/6)+"px"),console.log("window width is at least 568px")}function n(){function n(n){n.matches?e():t()}if(matchMedia){var a=window.matchMedia("(max-width: 567px)");a.addListener(n),n(a)}}function a(){function n(n){n.matches?e():t()}if(matchMedia){var a=window.matchMedia("(max-width: 769px)");a.addListener(n),n(a)}}""===$("#words")[0].innerHTML?($(".myButt").css("display","block"),$(".myButt div")[1].textContent="CHECK",$(".layer")[0].classList.remove("active"),$(".layer")[0].textContent="BUTT",matchMedia("(min-width: 768px)").matches&&a(),matchMedia("(min-width: 320px) and (max-width: 737px)").matches&&n()):($(".myButt").css("display","none"),$(".myButt")[0].style.marginTop=null)}function a(){var e=$(this),t=e.nextAll(),a=e.index();if("words"===e.parent().attr("id"))e.appendTo($("#stage"));else if("stage"===e.parent().attr("id")){for(e.appendTo($("#words")),e[0].className="",console.log(e[0]),t.appendTo($("#words")),c=0;c<t.length;c++)t[c].className="";$("#stage>span").nextAll().className=""}n()}function s(){""===$("#words")[0].innerHTML&&(r=r.slice(0,-1))===answers[l]&&(count++,console.log(count+" right answer"))}function i(){$("#stage>span").each(function(e){$(this).text()===d[e]?(console.log($(this).text()),r=r+$(this).text()+"/",$(this)[0].className="active-right"):$(this)[0].className="active-wrong"}),r=r.substring(0,r.length-1),r===answers[l]?(console.log("Hello World"),count++,$(".layer")[0].textContent="YEAH",$("#stage").sortable("disable")):$(".layer")[0].textContent="NEXT",$("#stage > span").unbind("click")}function o(){var e=0,t=Math.round(.35*questionMaxGlob),n=Math.round(.85*questionMaxGlob);if(count<=t&&count&&2!==questionMaxGlob)for(var a=0;a<$("#stage>span").length;a++)$("#stage>span")[a].classList.toggle("active-wrong");else if(count>t&&count<n||2===questionMaxGlob&&1===count)for(var a=0;a<$("#stage>span").length;a++)$("#stage>span")[a].classList.toggle("active-middle");else if(count>=n)for(var a=0;a<$("#stage>span").length;a++)$("#stage>span")[a].classList.toggle("active-right");else for(var a=0;a<$("#stage>span").length;a++)$("#stage>span")[a].classList.toggle("active-wrong")}for(var r="",l=e(answers.length),c=0;c<russian.length;c++)russian[c]===russian[l]&&(currentRusArr=c);if(russian.length>0&&currentRusArr===l&&void 0!==russian[l])russian[l].style.display="block";else for(var c=0;c<russian.length;c++)russian[c].style.display="none";var d=answers[l],u=d;void 0!==d&&(d=d.split("/"),t(d.slice()).forEach(function(e){$("#words").append("<span>"+e+"</span>")})),$(".myButt div")[1].addEventListener("click",function(){$("#stage > span").length>1&&i(),$(".layer")[0].classList.add("active"),1===answers.length?$(".layer")[0].textContent="END":"YEAH"!==$(".layer")[0].textContent&&($(".layer")[0].textContent="NEXT")}),endOfTheWordsGlob=s,$("span").on("click",a),$(function(){$("#stage").sortable({update:function(e,t){t.item.unbind("click"),t.item.one("click",function(e){console.log("one-time-click"),e.stopImmediatePropagation(),$(this).click(a)}),$(".myButt div")[1].textContent="CHECK",$(".layer")[0].classList.remove("active"),$(".layer")[0].textContent="BUTT",console.log("update")},delay:30})}),arrayNumberGlob=l;for(var c=0;c<$("#words>span").length;c++)if($("#words>span")[c].textContent===d[0]){$("#stage").append($("#words>span")[c]),$("#stage>span").unbind("click");break}if(answers.length>0&&$("#stage>span")[0].addEventListener("click",function(){$("#stage").append($("#words>span"));for(var e=0;e<d.length;e++)$("#stage>span")[e].textContent=d[e];n(),$("#stage > span").unbind("click"),$("#stage").sortable("disable"),$(".layer")[0].classList.add("active"),$(".layer")[0].textContent="NEXT",1===answers.length&&($(".layer")[0].textContent="END")}),0===answers.length){var h=count+" correct from "+questionMax;h=h.split(" ");for(var c=0;c<h.length;c++){var g=document.createElement("span");console.log(h[c]),g.innerHTML=h[c],stage.appendChild(g)}o()}}var examples=$(".hide-examples"),translation=$(".question>div");examples.length>0&&void 0===$(".hide-examples>ul")[0]&&divide(examples),translation.length>0&&void 0===$(".question>div>ul")[0]&&divide(translation);for(var russian=$(".question>div>ul>li"),answers=[],i=0;i<10;i++)$(".hide-examples>ul>li")[i]&&(answers[i]=$(".hide-examples>ul>li")[i].textContent.split(" "),answers[i]=answers[i].join("/"));app();var endOfTheWordsGlob,arrayNumberGlob,currentRusArr,count=0,questionMax=answers.length,questionMaxGlob=answers.length;switch(questionMax){case 1:questionMax="One";break;case 2:questionMax="Two";break;case 3:questionMax="Three";break;case 4:questionMax="Four";break;case 5:questionMax="Five";break;case 6:questionMax="Six";break;case 7:questionMax="Seven";break;case 8:questionMax="Eight";break;case 9:questionMax="Nine";break;case 10:questionMax="Ten";break}$(".myButt div")[0].addEventListener("click",function(e){if("NEXT"===$(".layer")[0].textContent||"YEAH"===$(".layer")[0].textContent||"END"===$(".layer")[0].textContent){endOfTheWordsGlob(),$("#words")[0].innerHTML="",russian.length>0&&currentRusArr===arrayNumberGlob&&void 0!==russian[arrayNumberGlob]&&(russian[arrayNumberGlob].style.display="none"),answers.splice(arrayNumberGlob,1),russian.splice(arrayNumberGlob,1);for(var t=document.getElementById("stage");t.firstChild;)t.removeChild(t.firstChild);$(".myButt").css("display","none"),console.log(russian.length),answers.length>0&&material(e),$(".myButt")[0].style.marginTop=null,$("#stage").sortable("option","disabled",!1),app()}});